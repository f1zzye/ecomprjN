{% extends 'useradmin/base.html' %}
{% load static %}
{% block content %}

<section class="content-main">
    <div class="content-header">
        <div>
            <h2 class="content-title card-title">Products List</h2>
            <p>Manage all your products from here</p>
        </div>
        <div>
            <a href="{% url 'useradmin:add-product' %}" class="btn btn-primary btn-sm rounded">Create Product</a>
        </div>
    </div>
    <div class="card mb-4">
        <header class="card-header">
            <div class="row align-items-center">
                <div class="col-md-2 col-6">
                    <select class="form-select">
                        <option selected>Status</option>
                        <option>Active</option>
                        <option>Disabled</option>
                        <option>Show all</option>
                    </select>
                </div>
            </div>
        </header>
        <div class="card-body">
            {% for p in all_products %}
                <article class="itemlist">
                <div class="row align-items-center">
                    <div class="col-lg-4 col-sm-4 col-8 flex-grow-1 col-name">
                        <a class="itemside" href="">
                            <div class="left">
                                <img src="{{ p.image.url }}" style="width: 100px; height: 100px; object-fit: cover; border-radius: 15px" class="img-sm img-thumbnail" alt="Item" />
                            </div>
                            <div class="info">
                                <h6 class="mb-0">{{ p.title }}</h6>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-2 col-sm-2 col-4 col-price"><span>${{ p.price }}</span></div>
                    <div class="col-lg-2 col-sm-2 col-4 col-status">
                            {% if p.status == True %}
                                <span class="badge badge-pill badge-soft-success">Live</span>
                            {% else %}
                                <span class="badge badge-pill badge-soft-danger">Not Active</span>
                            {% endif %}
                    </div>
                    <div class="col-lg-1 col-sm-2 col-4 col-date">
                        <span>{{ p.date|date:"d M, Y" }}</span>
                    </div>
                    <div class="col-lg-2 col-sm-2 col-4 col-action text-end">
                        <a href="{% url 'useradmin:edit-product' p.pid %}" class="btn btn-sm font-sm rounded btn-brand"> <i class="material-icons md-edit"></i> Edit </a>
                        <a href="{% url 'useradmin:delete-product' p.pid %}" class="btn btn-sm font-sm btn-light rounded"> <i class="material-icons md-delete_forever"></i> Delete </a>
                    </div>
                </div>
            </article>
            {% endfor %}
        </div>
    </div>
<div class="pagination-area mt-30 mb-50">
    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-start">
            {% for page_num in all_products.paginator.page_range %}
                {% if page_num == all_products.number %}
                    <li class="page-item active"><a class="page-link" href="#">{{ page_num }}</a></li>
                {% else %}
                    <li class="page-item"><a class="page-link" href="{% url 'useradmin:paginator' page_num %}">{{ page_num }}</a></li>
                {% endif %}
            {% endfor %}
            {% if all_products.has_next %}
                <li class="page-item">
                    <a class="page-link" href="{% url 'useradmin:paginator' all_products.next_page_number %}"><i class="material-icons md-chevron_right"></i></a>
                </li>
            {% endif %}
        </ul>
    </nav>
</div>
</section>


{% endblock %}
